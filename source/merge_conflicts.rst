Merge Conflicts
===============

ブランチやコミットをマージする際、マージの競合が発生することがあります。
Gitはそれらを解消しようとしますが、いくつかの競合は手動で解消する必要があります。
マージの競合が発生した場合、Git Extensionsは警告を表示します。

.. image:: /images/merge_conflicts.png

.. index::
   single: Merge Conflicts; 競合の処理

競合の処理
----------

競合を解決するには、単純に警告をクリックするか、メニューから ``競合の解決`` ダイアログを開きます。
ダイアログには、すべての競合を示すメッセージが表示されます。
ファイル名をダブルクリックすることで、競合を解決することができます。

.. image:: /images/resolve_merge_conflicts.png

競合には3種類あります:

+---------------------------------------+-------------------------------------------------------+
|削除と変更                             | 変更されたファイルか、削除されたファイルかを選択する  |
+---------------------------------------+-------------------------------------------------------+
|削除と作成                             | 作成されたファイルか、削除されたファイルかを選択する  |
+---------------------------------------+-------------------------------------------------------+
|ローカルとリモートの両方で変更された   | マージツールを開始する                                |
+---------------------------------------+-------------------------------------------------------+

あるコミットでファイルが削除され、他のコミットで変更された場合、ダイアログで変更されたファイルを保持するかファイルを削除するかを指定します。
競合する変更がある場合には、マージツールが開始されます。
マージの競合を解消するのに使用するツールを設定することができます。
下の画像では、無償の ``Perforce P4Merge`` をマージツールとして使用しています。
Git Extensionsは、オープンソースのマージツールである、KDiff3を同梱しています。	

マージツールには、同じファイルの4つのバージョンが表示されます:

+--------+--------------------------------------------------------+
|Base    | 双方のリポジトリに存在するファイルの最新バージョン     |
+--------+--------------------------------------------------------+
|Local   | ファイルのローカルでの最新バージョン                   |
+--------+--------------------------------------------------------+
|Remote  | ファイルのリモートでの最新バージョン                   |
+--------+--------------------------------------------------------+
|Merged  | マージ結果                                             |
+--------+--------------------------------------------------------+

.. caution::

    マージの途中では、ファイルにはlocalの名前が付けられます。
    rebaseの途中では、ファイルにはリモートの名前が付けられます。
    これは混乱しやすいので、疑わしい場合にはダブルチェックを行なってください。

.. image:: /images/perforce_p4merge.png

